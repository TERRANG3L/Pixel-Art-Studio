<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Pixel Art Studio Pro++</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="custom-confirm" id="confirmDialog">
        <p>¬øSeguro que quieres eliminar este color?</p>
        <div style="display: flex; gap: 10px; margin-top: 15px; justify-content: center;">
            <button onclick="handleConfirm(true)">S√≠</button>
            <button onclick="handleConfirm(false)">No</button>
        </div>
    </div>

    <div class="tool-panel">
        <div>
            <div class="color-picker">
                <div class="color-preview" id="colorPreview"></div>
                <input type="color" id="colorInput" value="#ff0000">
                <div class="tools-grid" style="margin-top: 20px;">
                    <button class="tool-btn active" data-tool="brush">
                        <span>üñåÔ∏è</span>
                        Pincel
                    </button>
                    <button class="tool-btn" data-tool="eraser">
                        <span>üßπ</span>
                        Borrador
                    </button>
                    <button class="tool-btn" data-tool="fill">
                        <span>üé®</span>
                        Relleno
                    </button>
                    <button class="tool-btn" data-tool="picker">
                        <span>üëÜ</span>
                        Selector
                    </button>
                </div>
            </div>

            <div class="color-picker">
                <div class="paleta-selector">
                    <button onclick="newPalette()">Nueva</button>
                    <select id="paletteSelector" onchange="changePalette(this.value)"></select>
                </div>
                <div class="paleta-container">
                    <div id="colorPalette" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px;"></div>
                </div>
                <button onclick="addToPalette()" style="margin-top: 15px; width: 100%;">
                    A√±adir a paleta
                </button>
            </div>
        </div>

        <div class="panel-controls">
            <div class="mirror-controls">
                <button onclick="toggleMirrorMode()">
                    ü™û Modo Espejo
                </button>
                <select onchange="changeMirrorType(this.value)">
                    <option value="vertical">Vertical</option>
                    <option value="horizontal">Horizontal</option>
                    <option value="diagonal">Diagonal</option>
                </select>
            </div>
            <button onclick="toggleGrid()">üî≤ Grid</button>
            <button onclick="clearGrid()">üßπ Limpiar</button>
            <button onclick="saveArt()">üíæ Guardar</button>
        </div>

        <!-- Input para cargar im√°genes -->
        <div class="image-loader">
            <input type="file" id="imageLoader" accept="image/*" style="margin-top: 15px; width: 100%;">
        </div>
    </div>

    <div class="main-area">
        <div id="gridContainer">
            <div id="grid"></div>
        </div>
        <div class="grid-config">
            <input type="number" id="cols" value="16" min="8" max="64" onchange="safeUpdateGrid()">
            <span>x</span>
            <input type="number" id="rows" value="16" min="8" max="64" onchange="safeUpdateGrid()">
            <button onclick="safeUpdateGrid()">Actualizar</button>
        </div>
    </div>

    <div class="zoom-controls">
        <button onclick="adjustZoom(-0.1)">‚ûñ</button>
        <span id="zoomLevel">100%</span>
        <button onclick="adjustZoom(0.1)">‚ûï</button>
    </div>

    <script src="app.js"></script>
</body>
</html>
